<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="https://jakarta.ee/ns/jsf/html"
      xmlns:f="https://jakarta.ee/ns/jsf/core">
<head>
    <title>DEBUG - Liste des utilisateurs</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"/>
</head>
<body class="p-4 bg-light">
    <div class="container mt-5">
        <h1>üîç DEBUG - Page de Diagnostic</h1>
        <hr/>
        
        <h2>Utilisateurs en base de donn√©es :</h2>
        <h:form>
            <h:commandButton value="Rafra√Æchir" action="debug" style="margin-bottom: 20px;"/>
        </h:form>
        
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Username</th>
                    <th>Email</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <h:forEach var="user" items="#{debugBean.allUsers}">
                    <tr>
                        <td>#{user.id}</td>
                        <td>#{user.username}</td>
                        <td>#{user.email}</td>
                        <td>#{user.description}</td>
                    </tr>
                </h:forEach>
            </tbody>
        </table>
        
        <p style="color: blue; margin-top: 20px;">
            <strong>Nombre d'utilisateurs:</strong> #{debugBean.allUsers.size()}
        </p>
        
        <hr/>
        <a href="index.xhtml" class="btn btn-primary">Retour √† la connexion</a>
    </div>
</body>
</html>
